SEO에 가장 신경쓸 세가지

1. TTFB (Tite to first byte)
2. Meta tag, og tag
3. robots.txt, sitemap.xml

## TTFB

가장 첫 바이트를 마주치는 웹 성능 평가 지표  
빨리 연결 될 수록 크롤러에 캐치되기 좋음  
서버 상태와 웹 성능과 로드 장소 및 횟수, 외부링크 최소화등  
다양한 요소가 영향을 미침

서버 선택 기준 (22년 7월 4일 기준)

| 서버                      | 배포방식 | 한국 지원 속도 | 이용요금                     | 비고                                                             |
| :------------------------ | :------- | :------------- | :--------------------------- | :--------------------------------------------------------------- |
| CloudFlare Pages          | CDN      | 중             | 비교적 저렴                  | 에지컴퓨팅 (한국 망 우회 이용), 고가 플랜 이용시 가격면에서 손해 |
| AWS CloudFront CDN        | CDN      | 중상           | Pages보다 비싸지만 저렴한 편 | 한국을 위한 서비스라면 추천                                      |
| AWS EC2 with Auto scaling | Elastic  | 중상           | 가장 높음                    | 요금 폭탄 위험성                                                 |

웹 성능 최적화, TTFB측면  
이미지 preload설정, fetchpriority 설정  
https://nextjs.org/docs/basic-features/image-optimization  
이미지 loading='lazy' 이용  
https://nextjs.org/docs/api-reference/next/image

리다이렉션 요청 최소화 (광고 등)  
SSR 이용  
글꼴 외부 링크 제거 등  
js 코드 스플리팅을 통한 번들파일 축소 (Next js에서는 자동)  
Dynamic import or Suspense 추가  
https://nextjs.org/docs/advanced-features/dynamic-import
https://web.dev/i18n/ko/code-splitting-with-dynamic-imports-in-nextjs/
https://velog.io/@tchaikovsky/Next.js-Dynamic-Import

랜딩페이지에 컨텐츠 최소화

https://www.webpagetest.org/ 에서 파일 리퀘스트, 용량 단위 참고

## meta, og tag

메타태그란 해당 서비스가 제공하는 정보를 나타내는 태그이다.  
서비스를 개발하고 이를 노출하고자 할때 우리의 서비스의 안내문 처럼 사용되는게 시작이지만,  
이 meta 태그는 페이지의 가장 처음에 수집되는 정보이며, 검색엔진에게도 마찬가지로 중요한 정보로서 서비스가 크롤링 된다.  
즉 SEO개선에 기본처럼 사용되는 태그들이다.

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <meta name="generator" content="" />
    <meta name="robots" content="" />
    <meta http-equiv="refresh" content="" />
    <meta property="og:type" content="" />
    <meta property="og:title" content="" />
    <meta property="og:description" content="" />
    <meta property="og:image" content="" />
    <meta property="og:url" content="" />
  </head>
</html>
```

<br />

### HTML 태그

```html
<html lang="ko"></html>
```

lang 속성

스크린 리더가 지정된 언어를 인지하여 읽기 위함

언어 뒤에 국가 코드를 붙인 형식으로, 만약 브라우저가 미국식 영어와 영국식 영어를 다르게 처리할 수 있는 환경이라면 서로 다르게 처리된다. 하지만 처리할 수 없을 경우에는 둘 중 가능한 것으로 처리되게 된다.

- lang 속성 개별 선언

만약 html lang이 en이고 그 중간에 한글로 된 내용이 있다고 한다면  
내부에서

```html
<span lang="ko">한글</span>
```

의 형식으로 선언하면 해당 내용은 한글로 처리할 수 있게 된다.

<br />

### meta 태그

- 🔑 meta charset [권장]

```html
<meta charset="UTF-8" />
```

HTML5의 인코딩 지정 방법, 일반적으로 UTF-8 값으로 설정
일반적으로 HTML 문서가 아닌 곳에서 인코딩을 지정할 필요는 없음.

- 🔑 meta viewport [권장]

```html
<meta name="viewport" content="width=device-width, initial-scale=1" />
```

반응형 웹 페이지를 위한 메타태그
뷰 포트 크기를 지정

- 🔑 meta keyword [권장]

```html
<meta name="keywords" content="a b" />
```

컨텐츠 내용의 대표적인 키워드를 지정
구글에서는 무시되지만 다른 검색엔진에선 차용되기도 함

- 🔑 meta description [권장]

```html
<meta name="description" content="이런저런 사이트 - About" />
```

검색엔진 검색 시 페이지의 제목 아래 description 부분

- 🔑 meta author [권장]

```html
<meta name="author" content="Eumericano" />
```

웹 페이지의 소유자(또는 회사)를 적는다.

- ⚠️ meta generator [비추]

```html
<meta name="generator" content="next js" />
```

이 웹페이지를 무엇으로 만들었는지 기술하는 태그이다.

다른 사람이 코드를 알아볼 때 참고할 수 있도록 하는 면이 있는데 요즘은 번들러를 통해 코드가 변환되는 경우가 있기 때문에 기술할 필요성이 떨어지며, 또 다른 경우는 코드를 자동 생성하면서 해당 메타 태그가 기술되어지는 경우가 있는데 이 경우 또한 흔한 경우가 아니며 웹표준이나 SEO 측면 모두 불필요한 메타 태그라고 볼 수 있다.

- 🔑 meta robots [SEO 추천]

```html
<meta name="robots" content="noindex" />
```

robots는 기본적으로 검색 엔진 크롤러의 허용, 불허 등을 제어한다.
robots 메타태그 보다는 robots.txt 파일로 제어하는게 일반적이다.

※ Meta Robots tag vs Robots.txt  
robot.txt는 사이트 전체섹션의 색인을 담당하고 meta tag의 robots 태그는 섹션별 색인을 담당한다

메타태그와 robot.txt 파일을 동시에 사용할 수도 있다.

한가지 더, 두가지가 서로 간섭할 수 있는 권한은 없지만
noindex자체가 index 상위에서 권한을 수행할 수 있다는 특징이 있다.

일반적으로 색인을 없앨때는 robots tags의 noindex 태그를 사용해 크롤러에 검색되지 않도록 만드는 쪽이 권장된다.

- ⚠️ meta refresh [비추]

```html
<meta http-equiv="refresh" content="0; url=https://example.com/" />
```

해당 메타 태그를 사용하면 지정한 시간 이후 이정한 URL으로 자동으로 페이지를 이동시킬 수 있다.

content에 초 단위로 시간을 지정하고 0일 경우에는 즉시 이동한다.

해당 동작은 권장되지 않는다. 자동으로 URL 리다이렉션은 최근 웹에서는 지양하고 있으며 피싱 등의 위험으로 간주 될 수 있다.
또한 5초로 리다이렉트를 지정해놓았는데 그 전에 사용자가 뒤로가기를 하는 경우에 뒤로가기를 했는데도 5초 후 지정한 URL로 이동될 수 있으니 사용하지 않는 것이 좋다.

- 🔑 OpenGraph [추천]

오픈그래프는 웹페이지가 소셜 미디어 또는 오픈그래프를 활용한 사이트로 공유될때 사용되어지는 정보이다.

제일 흔한 예로 페이스북에 링크를 붙여놓기, 카카오톡 링크 공유할 때 해당 게시물의 제목, 설명, 이미지가 간략하게 나타나는 경우가 오픈그래프가 활용된 경우이다.

```html
<head>
  <meta property="og:type" content="website" />
  <meta property="og:title" content="페이지 제목" />
  <meta property="og:description" content="페이지 설명" />
  <meta property="og:image" content="http://www.mysite.com/myimage.jpg" />
  <meta property="og:url" content="http://www.mysite.com" />
</head>
```

참고 자료:  
구글 전용 메타태그  
https://developers.google.com/search/docs/advanced/crawling/special-tags?hl=ko&visit_id=637925380624295428-2057858838&rd=1  
Naver SEO  
https://searchadvisor.naver.com/guide/seo-basic-intro

## robots.txt, sitemap.xml

일반 사용자들이 URL을 이용해 웹에서 정보를 찾는 것 처럼  
구글, 네이버등의 검색 크롤러도 웹페이지의 콘텐츠를 카피한 후 주제별로 색인한다.  
이렇게 색인된 정보만이 검색 결과에서 노출될 수 있기 때문에 비즈니스 관점에서 웹사이트에 접근하는 검색엔진의 크롤러를 대응하는 방식이 SEO에 지대한 영향을 미친다.

텍스트 파일 형식의 로봇 텍스트 파일(robots.txt)과 xml형식의 사이트맵 파일(sitemap.xml)은 사이트에 방문하는 검색엔진의 크롤러를 제어하기 위해 설정하는 파일이다.

[추가 참고 reference]

1. https://darrengwon.tistory.com/938
2. https://namu.wiki/w/Cloudflare
3. https://namu.wiki/w/%EC%95%84%EB%A7%88%EC%A1%B4%20%EC%9B%B9%20%EC%84%9C%EB%B9%84%EC%8A%A4#s-4.5.1
4. https://www.ascentkorea.com/what-is-robots-txt-sitemap-xml/
5. https://www.weareinfront.com/learn-article/robots_txt/
