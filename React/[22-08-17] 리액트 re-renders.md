## Why React Re-Renders (ë²ˆì—­)

ì›ë¬¸: https://www.joshwcomeau.com/react/why-react-re-renders/

---

ì†”ì§íˆ ì´ì•¼ê¸°í•´ì„œ, ì €ëŠ” ë¦¬ì•¡íŠ¸ì˜ re-rendering í”„ë¡œì„¸ìŠ¤ë¥¼ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í•œ ì±„
ë¦¬ì•¡íŠ¸ ì „ë¬¸ê°€ë¡œì„œ ëª‡ ë…„ ë™ì•ˆ ì¼í•´ì™”ìŠµë‹ˆë‹¤. ğŸ˜…  
ì´ëŠ” ë‹¤ë¥¸ ë§ì€ ë¦¬ì•¡íŠ¸ ê°œë°œìë“¤ë„ ë¹„ìŠ·í• ê±°ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê·¸ëŸ­ì €ëŸ­ ì‚´ì•„ê°ˆ ìˆ˜ ìˆì„ ë§Œí¼ ë¦¬ì•¡íŠ¸ë¥¼ ì´í•´í•˜ê³  ìˆì§€ë§Œ,  
ë§Œì•½ ë‹¹ì‹ ì´ ë¦¬ì•¡íŠ¸ ê°œë°œì ê·¸ë£¹ì—ê²Œ "ë¦¬ì•¡íŠ¸ì—ì„œ re-renderingì„ ìœ ë°œí•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€?" ë¼ëŠ” ë¬¼ìŒì„ í•œë‹¤í•´ë„,
ê¹Šì€ ì´í•´ë¥¼ ê¸°ë°˜ìœ¼ë¡œí•œ ëŒ€ë‹µì„ ì–»ê¸° ì‰½ì§€ ì•Šì„ê²ƒì…ë‹ˆë‹¤.

ì´ ì£¼ì œì— ëŒ€í•´ì„œëŠ” ë§ì€ ì˜¤í•´ê°€ ìˆê³ , ë§ì€ ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
Reactì˜ ë Œë”ë§ ì£¼ê¸°ë¥¼ ì´í•´í•˜ì§€ ëª»í•˜ë©´, useMemoì™€ useCallbackë“±ì„ ì–´ë–»ê²Œ í™œìš©í•´ì•¼í• ì§€ ì´í•´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Reactì˜ re-render íƒ€ì´ë°ê³¼ ì´ìœ ì— ëŒ€í•œ ë©˜íƒˆëª¨ë¸ì„ êµ¬ì¶•í•˜ê³ ,  
React devtoolsë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • componentê°€ ë‹¤ì‹œ ë¦¬ëœë”ë§ëœ ì´ìœ ë¥¼ ì„¤ëª…í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.

> ì´ íŠœí† ë¦¬ì–¼ì€ ë¦¬ì•¡íŠ¸ì˜ ì´ˆê¸‰ì„ ë„˜ì€ ê°œë°œìë¥¼ ëŒ€ìƒìœ¼ë¡œ í•©ë‹ˆë‹¤.  
> ë¦¬ì•¡íŠ¸ì˜ ê¸°ì´ˆì§€ì‹ì´ ë¶€ì¡±í•œ ê°œë°œìë¼ë©´ ì´ í˜ì´ì§€ë¥¼ ì¦ê²¨ì°¾ê¸° í•´ ë†“ê³  ë‹¤ìŒì— ë‹¤ì‹œ ë°©ë¬¸í•´ì£¼ì„¸ìš”!

---

### The Core React Loop

ê¸°ì´ˆì ì¸ ì§€ì‹ìœ¼ë¡œ ì´ ê¸€ì„ ì‹œì‘í•©ë‹ˆë‹¤.  
Reactì˜ ëª¨ë“  re-renderingì€ stateì˜ ë³€í™”ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.  
Reactì—ì„œ Componentë¥¼ re-renderì‹œí‚¤ëŠ” ìœ ì¼í•œ íŠ¸ë¦¬ê±°ëŠ” Stateì…ë‹ˆë‹¤.

ì´ëŸ° ì§ˆë¬¸ì´ ìƒê¸¸ì§€ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.  
'propsê°’ì´ ë³€í• ë–„ë„, contextê°€ ë³€í• ë•Œë„ Componentê°€ re-renderë˜ëŠ”ê²ƒ ì•„ë‹Œê°€ìš”?'

ì—¬ê¸°ì„œ ë§í•˜ëŠ” stateì˜ ë³€í™”ë€ ê°€ì¥ ìµœìƒìœ„ ë¶€ëª¨ Componentê°€ ê°€ì§„ stateì˜ ë³€ë™ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  
ì˜ˆë¥¼ ë“¤ì–´ë³´ì£ .

```jsx
import React from "react";

function App() {
  return (
    <>
      <Counter />
      <footer>
        <p>Copyright 2022 Big Count Inc.</p>
      </footer>
    </>
  );
}

function Counter() {
  const [count, setCount] = React.useState(0);

  return (
    <main>
      <BigCountNumber count={count} />
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </main>
  );
}

function BigCountNumber({ count }) {
  return (
    <p>
      <span className="prefix">Count:</span>
      {count}
    </p>
  );
}

export default App;
```

ì´ ì˜ˆì‹œì—ëŠ” 3ê°œì˜ Component(App, Counter, BigCounter)ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.  
Reactì—ì„œëŠ” ëª¨ë“  state ë³€ìˆ˜ëŠ” íŠ¹ì • componentì˜ instanceë¡œ ì—°ê²°ë©ë‹ˆë‹¤.  
ì´ ì˜ˆì‹œì—ì„œëŠ”, Counterë¼ëŠ” ì»´í¬ë„ŒíŠ¸ ì•ˆì— countë¼ëŠ” í•˜ë‚˜ì˜ stateë¥¼ ê°€ì§€ê³  ìˆì£ .  
state(count)ê°€ ë³€í• ë•Œë§ˆë‹¤, Counter ì»´í¬ë„ŒíŠ¸ëŠ” re-renderë©ë‹ˆë‹¤.  
ê·¸ë¦¬ê³  Counterê°€ re-renderë¨ì— ë”°ë¼ BigCountNumber ì»´í¬ë„ŒíŠ¸ë„ re-rendering ë  ê²ƒ ì…ë‹ˆë‹¤.

ì•„ë˜ì—ëŠ” incrementë¼ëŠ” ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ì— ëŒ€í•œ ê·¸ë¦¼ì…ë‹ˆë‹¤.

![Counter re-rendering](https://eumericano.s3.ap-northeast-2.amazonaws.com/dev/re-render/counter1.jpg "Counter re-rendering")

ì´ì œë¶œ ì˜¤í•´ë“¤ì„ ì—†ì• ë´…ì‹œë‹¤.

í° ì˜¤í•´ 1. ëª¨ë“  ì•±ì´ stateê°€ ë³€í• ë•Œ re-renderëœë‹¤.

ì¼ë¶€ ê°œë°œìë“¤ì´ ë¦¬ì•¡íŠ¸ì˜ ëª¨ë“  state ë³€í™”ê°€ í”„ë¡œê·¸ë¨ ì „ì²´ì˜ ë Œë”ë§ì„ ê°•ìš”í•œë‹¤ê³  ë¯¿ì§€ë§Œ ì‚¬ì‹¤ì´ ì•„ë‹™ë‹ˆë‹¤.  
re-renderëŠ” state ë° í•˜ìœ„ í•­ëª©(ìˆëŠ” ê²½ìš°)ì„ ì†Œìœ í•œ componentì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.
