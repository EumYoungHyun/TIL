## SWR (Stale-While-Revalidate)

#### 노마드 개념

HTTP 캐시 무효화 전략

홈 화면에서 유저 정보를 fetching하는 서비스가 있다.
이 페이지에서 유저가 홈에 들어가면 유저정보 fetching을 통해 유저에 대한 정보를 받는다.
그 유저가 다른 페이지에 갔다가 다시 홈으로 돌아갈때 SWR을 이용하면 다시 요청하지 않고 기존의 데이터를 캐시에서 가져와서 보여준다

그렇다면 클라이언트 입장에서는 홈 화면에서 다시 로딩을 볼 필요가 없고,
SWR은 뒷단에서 API요청을 통해 데이터 내용이 변경되었는지 체크한다.
만약 데이터가 바뀌었다면 데이터를 업데이트 하고 그렇지 않다면 이전의 화면을 그대로 보여준다.

```
// 나머지 채우기
```

### SWR 공식문서

Next.js를 개발한 zeit에서 SWR을 활용하는 훅 useSWR을 제작함

SWR은 [HTTP RFC 5861]에 의해 알려진 HTTP 캐시 무효 전략인 Stale-While-revalidate에서 유래되었다.
SWR은 먼저 캐시(Stale)로부터 데이터를 변환한 후, fetch 요청(재검증)을 하고, 최종적으로 최신화된 데이터를 가져오는 전략이다.

SWR을 사용하면 컴포넌트는 지속적이며 자동으로 데이터 업데이트 스트림을 받게 된다.
그리고 UI는 항상 빠르게 반응한다.

### 정보 1 개념

SWR은 데이터를 가져오기 위한 React의 hook이다.
Next.js를 개발한 zeit그룹에서 제작한 라이브러리이다.

```
// 나머지 채우기
```

참고 - https://velog.io/@soryeongk/SWRBasic

### 정보 2 개념

개발자들은 React Application에서 데이터를 저장하기 위해 state를 활용한다.
하지만 앱이 새로 로딩될때 state들은 비어있는 상태로 리턴되며, 대부분의 경우 `uesEffect`나 `componentDidMount`과정을 거치며 외부 소스에서 검색하고 가져오는 과정을 반복해서 수행한다.
모든 순간 클라이언트 측의 빠른 대응을 기대할 순 없다. 데이터 충돌이나 클라이언트 측의 네트워크의 상태가 느려지는 경우 앱은 데이터가 없는 빈 페이지를 반환한다.

운 좋게도 state가 처리되기 전에 캐이세어 데이터 검색을 처리하는 React Query와 SWR이 있다. 이 두가지를 간단하게 비교해보자.

이 튜토리얼을 이해하기 위해 React Query, React, JS, React Suspense 및 jsx를 이해하고 있어야 한다.

```
// 나머지 채우기
```

참고 - https://blog.logrocket.com/useswr-vs-react-query/

[http rfc 5861]: https://datatracker.ietf.org/doc/html/rfc5861
